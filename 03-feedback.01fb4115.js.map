{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAO,CACXC,OAAQC,SAASC,cAAc,kBAC/BC,SAAUF,SAASC,cAAc,oBACjCE,QAASH,SAASC,cAAc,mBAIlC,IAAIG,EAAYC,KAAKC,MAAMC,aAAaC,QADd,yBAC6C,GAEvEV,EAAKC,OAAOU,iBAAiB,SAAS,EAAAb,EAAAc,WAKtC,SAAsBC,GACpBP,EAAUO,EAAMC,OAAOC,MAAQF,EAAMC,OAAOE,MAC5C,MAAMC,EAAeV,KAAKW,UAAUZ,GACpCG,aAAaU,QAXW,sBAWgBF,E,GARmB,MAC7DjB,EAAKC,OAAOU,iBAAiB,UAU7B,SAAoBE,GAClBA,EAAMO,iBACNC,QAAQC,IAAIhB,GACZG,aAAac,WAjBW,uBAkBxBV,EAAMW,cAAcC,QACpBnB,EAAY,E,IAGd,WACE,GAAkB,OAAdA,EACF,OAEFN,EAAKI,SAASY,MAAQV,EAAUoB,SAAW,GAC3C1B,EAAKK,QAAQW,MAAQV,EAAUqB,OAAS,E,CArB1CC","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst refs = {\n  formEl: document.querySelector('.feedback-form'),\n  textarea: document.querySelector('[name=\"message\"]'),\n  emailEl: document.querySelector('[name=\"email\"]'),\n};\n\nconst LOCAL_STORAGE_KEY = 'feedback-form-state';\nlet formDatas = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY)) || {};\n\nrefs.formEl.addEventListener('input', throttle(onTAreaInput, 500));\nrefs.formEl.addEventListener('submit', submitForm);\n\nfillTextarea();\n\nfunction onTAreaInput(event) {\n  formDatas[event.target.name] = event.target.value;\n  const strigifyData = JSON.stringify(formDatas);\n  localStorage.setItem(LOCAL_STORAGE_KEY, strigifyData);\n}\n\nfunction submitForm(event) {\n  event.preventDefault();\n  console.log(formDatas);\n  localStorage.removeItem(LOCAL_STORAGE_KEY);\n  event.currentTarget.reset();\n  formDatas = {};\n}\n\nfunction fillTextarea() {\n  if (formDatas === null) {\n    return;\n  }\n  refs.textarea.value = formDatas.message || '';\n  refs.emailEl.value = formDatas.email || '';\n}\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$refs","formEl","document","querySelector","textarea","emailEl","$945622fd0f572e60$var$formDatas","JSON","parse","localStorage","getItem","addEventListener","throttle","event","target","name","value","strigifyData","stringify","setItem","preventDefault","console","log","removeItem","currentTarget","reset","message","email","$945622fd0f572e60$var$fillTextarea"],"version":3,"file":"03-feedback.01fb4115.js.map"}