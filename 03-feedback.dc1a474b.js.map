{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAO,CACXC,OAAQC,SAASC,cAAc,kBAC/BC,SAAUF,SAASC,cAAc,oBACjCE,QAASH,SAASC,cAAc,mBAG5BG,EAAoB,sBACtBC,EAAYC,KAAKC,MAAMC,aAAaC,QAAQL,KAAuB,GAEvEN,EAAKC,OAAOW,iBAAiB,SAAS,EAAAd,EAAAe,WAKtC,SAAsBC,GACpBP,EAAUO,EAAMC,OAAOC,MAAQF,EAAMC,OAAOE,MAC5C,IAAMC,EAAeV,KAAKW,UAAUZ,GACpCG,aAAaU,QAAQd,EAAmBY,E,GARmB,MAC7DlB,EAAKC,OAAOW,iBAAiB,UAU7B,SAAoBE,GAClBA,EAAMO,iBACNC,QAAQC,IAAIhB,GACZG,aAAac,WAAWlB,GACxBQ,EAAMW,cAAcC,QACpBnB,EAAY,E,IAGd,WACE,GAAkB,OAAdA,EACF,OAEFP,EAAKI,SAASa,MAAQV,EAAUoB,SAAW,GAC3C3B,EAAKK,QAAQY,MAAQV,EAAUqB,OAAS,E,CArB1CC,E","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst refs = {\n  formEl: document.querySelector('.feedback-form'),\n  textarea: document.querySelector('[name=\"message\"]'),\n  emailEl: document.querySelector('[name=\"email\"]'),\n};\n\nconst LOCAL_STORAGE_KEY = 'feedback-form-state';\nlet formDatas = JSON.parse(localStorage.getItem(LOCAL_STORAGE_KEY)) || {};\n\nrefs.formEl.addEventListener('input', throttle(onTAreaInput, 500));\nrefs.formEl.addEventListener('submit', submitForm);\n\nfillTextarea();\n\nfunction onTAreaInput(event) {\n  formDatas[event.target.name] = event.target.value;\n  const strigifyData = JSON.stringify(formDatas);\n  localStorage.setItem(LOCAL_STORAGE_KEY, strigifyData);\n}\n\nfunction submitForm(event) {\n  event.preventDefault();\n  console.log(formDatas);\n  localStorage.removeItem(LOCAL_STORAGE_KEY);\n  event.currentTarget.reset();\n  formDatas = {};\n}\n\nfunction fillTextarea() {\n  if (formDatas === null) {\n    return;\n  }\n  refs.textarea.value = formDatas.message || '';\n  refs.emailEl.value = formDatas.email || '';\n}\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$refs","formEl","document","querySelector","textarea","emailEl","$b00c40859be242c5$var$LOCAL_STORAGE_KEY","$b00c40859be242c5$var$formDatas","JSON","parse","localStorage","getItem","addEventListener","throttle","event","target","name","value","strigifyData","stringify","setItem","preventDefault","console","log","removeItem","currentTarget","reset","message","email","$b00c40859be242c5$var$fillTextarea"],"version":3,"file":"03-feedback.dc1a474b.js.map"}